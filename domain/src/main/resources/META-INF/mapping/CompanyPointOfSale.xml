<?xml version="1.0" encoding="UTF-8"?>
<entity-mappings version="2.1"
	xmlns="http://xmlns.jcp.org/xml/ns/persistence/orm" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://xmlns.jcp.org/xml/ns/persistence/orm http://xmlns.jcp.org/xml/ns/persistence/orm_2_1.xsd">

	<entity class="com.lapsa.insurance.domain.CompanyPointOfSale">
		<table name="POS">
			<index name="POS_IDX01" column-list="IS_AVAILABLE" />
			<index name="POS_IDX02" column-list="IS_AVAILABLE,IS_PICKUP_AVAILABLE" />
			<index name="POS_IDX03" column-list="IS_AVAILABLE,IS_DELIVERY_SERVICE_AVAILABLE" />
			<index name="POS_IDX04"
				column-list="IS_AVAILABLE,IS_PICKUP_AVAILABLE,IS_DELIVERY_SERVICE_AVAILABLE" />
		</table>
		<attributes>
			<basic name="name">
				<column name="NAME" />
			</basic>
			<basic name="available">
				<column name="IS_AVAILABLE" />
			</basic>
			<basic name="companyOwnOffice">
				<column name="IS_OWN_OFFICE" />
			</basic>
			<basic name="pickupAvailable">
				<column name="IS_PICKUP_AVAILABLE" />
			</basic>
			<basic name="deliveryServicesAvailable">
				<column name="IS_DELIVERY_SERVICE_AVAILABLE" />
			</basic>
			<one-to-many name="phones" orphan-removal="true" fetch="EAGER">
				<join-column name="POS_ID" />
			</one-to-many>
			<one-to-many name="emailAddresses" orphan-removal="true"
				fetch="EAGER">
				<join-column name="POS_ID" />
			</one-to-many>
			<element-collection name="nameLocalization" fetch="EAGER">
				<map-key-enumerated>STRING</map-key-enumerated>
				<map-key-column name="LANGUAGE" />
				<column name="VALUE" />
				<collection-table name="POS_NAME_LOCALIZATION">
					<join-column name="ENTITY_ID" />
					<unique-constraint>
						<column-name>ENTITY_ID</column-name>
						<column-name>LANGUAGE</column-name>
					</unique-constraint>
				</collection-table>
			</element-collection>
			<embedded name="address" />
			<embedded name="geoPoint" />
		</attributes>
	</entity>

</entity-mappings>